<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 3.9.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"unix2dos.github.io",root:"/",scheme:"Pisces",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1,dimmer:!1},copycode:{enable:!1,show_result:!1,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.json"}</script><meta name="description" content="1. join类型在关系代数中，连接运算是由一个笛卡尔积运算和一个选取运算构成的。首先用笛卡尔积完成对两个数据集合的乘运算，然后对生成的结果集合进行选取运算，确保只把分别来自两个数据集合并且具有重叠部分的行合并在一起。连接的全部意义在于在水平方向上合并两个数据集合（通常是表），并产生一个新的结果集合，其方法是将一个数据源中的行于另一个数据源中和它匹配的行组合成一个新元组。SQL提供了多种类型的连接"><meta name="keywords" content="sql"><meta property="og:type" content="article"><meta property="og:title" content="sql的join介绍"><meta property="og:url" content="https://unix2dos.github.io/p/289dcf0b.html"><meta property="og:site_name" content="Levonfly&#39;s Blog"><meta property="og:description" content="1. join类型在关系代数中，连接运算是由一个笛卡尔积运算和一个选取运算构成的。首先用笛卡尔积完成对两个数据集合的乘运算，然后对生成的结果集合进行选取运算，确保只把分别来自两个数据集合并且具有重叠部分的行合并在一起。连接的全部意义在于在水平方向上合并两个数据集合（通常是表），并产生一个新的结果集合，其方法是将一个数据源中的行于另一个数据源中和它匹配的行组合成一个新元组。SQL提供了多种类型的连接"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://unix2dos.github.io/p/289dcf0b/1.png"><meta property="og:updated_time" content="2020-09-20T06:02:47.536Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="sql的join介绍"><meta name="twitter:description" content="1. join类型在关系代数中，连接运算是由一个笛卡尔积运算和一个选取运算构成的。首先用笛卡尔积完成对两个数据集合的乘运算，然后对生成的结果集合进行选取运算，确保只把分别来自两个数据集合并且具有重叠部分的行合并在一起。连接的全部意义在于在水平方向上合并两个数据集合（通常是表），并产生一个新的结果集合，其方法是将一个数据源中的行于另一个数据源中和它匹配的行组合成一个新元组。SQL提供了多种类型的连接"><meta name="twitter:image" content="https://unix2dos.github.io/p/289dcf0b/1.png"><link rel="canonical" href="https://unix2dos.github.io/p/289dcf0b.html"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>sql的join介绍 | Levonfly's Blog</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">Levonfly's Blog</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">微信: L6241425</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="home fa-fw"></i>首页</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="archive fa-fw"></i>日志</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="th fa-fw"></i>分类</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><a href="https://github.com/unix2dos" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://unix2dos.github.io/p/289dcf0b.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="levonfly"><meta itemprop="description" content="stay hungry, stay foolish."></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Levonfly's Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">sql的join介绍</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-09-17 00:00:00" itemprop="dateCreated datePublished" datetime="2020-09-17T00:00:00+08:00">2020-09-17</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2020-09-20 14:02:47" itemprop="dateModified" datetime="2020-09-20T14:02:47+08:00">2020-09-20</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/1-编程语言/" itemprop="url" rel="index"><span itemprop="name">1-编程语言</span></a> </span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/1-编程语言/sql/" itemprop="url" rel="index"><span itemprop="name">sql</span></a> </span></span><span id="/p/289dcf0b.html" class="post-meta-item leancloud_visitors" data-flag-title="sql的join介绍" title="阅读次数"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Valine：</span> <a title="valine" href="/p/289dcf0b.html#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/p/289dcf0b.html" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>7k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>6 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="1-join类型"><a href="#1-join类型" class="headerlink" title="1.  join类型"></a>1. join类型</h1><p>在关系代数中，连接运算是由一个笛卡尔积运算和一个选取运算构成的。首先用笛卡尔积完成对两个数据集合的乘运算，然后对生成的结果集合进行选取运算，确保只把分别来自两个数据集合并且具有重叠部分的行合并在一起。</p><p>连接的全部意义在于在水平方向上合并两个数据集合（通常是表），并产生一个新的结果集合，其方法是将一个数据源中的行于另一个数据源中和它匹配的行组合成一个新元组。</p><p>SQL提供了多种类型的连接方式，它们之间的区别在于：从相互交叠的不同数据集合中选择用于连接的行时所采用的方法不同。</p><a id="more"></a><h3 id="1-1-join分类"><a href="#1-1-join分类" class="headerlink" title="1.1  join分类"></a>1.1 join分类</h3><table><thead><tr><th>连接类型</th><th>连接种类</th><th>定义</th></tr></thead><tbody><tr><td>Inner Join</td><td>Inner Join</td><td>内连接是最常见的一种连接，它也被称为普通连接，只连接匹配的行（仅对满足连接条件的CROSS中的列）。它又分为等值连接（连接条件运算符为”=”）和不等值连接（连接条件运算符不为”=”，例如between…and）。</td></tr><tr><td>Outer Join</td><td>Full Outer Join</td><td>FULL JOIN 会从左表 和右表 那里返回所有的行。如果其中一个表的数据行在另一个表中没有匹配的行，那么对面的数据用NULL代替。</td></tr><tr><td>Outer Join</td><td>Left Outer Join</td><td>LEFT JOIN返回左表的全部行和右表满足ON条件的行，如果左表的行在右表中没有匹配，那么这一行右表中对应数据用NULL代替。</td></tr><tr><td>Outer Join</td><td>Right Outer Join</td><td>RIGHT JOIN返回右表的全部行和左表满足ON条件的行，如果右表的行在左表中没有匹配，那么这一行左表中对应数据用NULL代替。</td></tr><tr><td>Cross Join</td><td>Cross Join</td><td>CROSS对两个表执行笛卡尔乘积。它为左表行和右表行的每种可能的组合返回一行。返回（左表行数*右表行数）行的表。</td></tr><tr><td>其他</td><td>自然连接</td><td>自然连接是一种特殊的等值连接,在连接条件中使用等于(=)运算符比较被连接列的列值，但它使用选择列表指出查询结果集合中所包括的列，并删除连接表中的重复列。</td></tr><tr><td>其他</td><td>自连接</td><td>某个表和其自身连接，常用在同一表内不同数据间对同一列的比较</td></tr></tbody></table><h3><a href="#" class="headerlink"></a></h3><h3 id="1-2-常见分类"><a href="#1-2-常见分类" class="headerlink" title="1.2 常见分类"></a>1.2 常见分类</h3><p>There are 4 different types of Oracle joins:</p><ul><li>Oracle INNER JOIN (or sometimes called simple join)</li><li>Oracle LEFT OUTER JOIN (or sometimes called LEFT JOIN)</li><li>Oracle RIGHT OUTER JOIN (or sometimes called RIGHT JOIN)</li><li>Oracle FULL OUTER JOIN (or sometimes called FULL JOIN)</li></ul><h3 id="1-3-注意事项"><a href="#1-3-注意事项" class="headerlink" title="1.3 注意事项"></a>1.3 注意事项</h3><ul><li>LEFT JOIN and LEFT OUTER JOIN 完全一样</li><li>RIGHT JOIN and RIGHT OUTER JOIN 完全一样</li><li>JOIN 默认情况下是 INNER JOIN</li><li>对于INNER JOIN，顺序无关紧要, 对于（LEFT，RIGHT或FULL）OUTER JOIN，顺序很重要</li><li>Mysql 不支持 full join</li><li>Mysql中,cross join ,inner join和 join所实现的功能是一样的。</li></ul><h1 id="2-join使用"><a href="#2-join使用" class="headerlink" title="2. join使用"></a>2. join使用</h1><p><strong>Examples</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">A    B</span><br><span class="line">-    -</span><br><span class="line">1    3</span><br><span class="line">2    4</span><br><span class="line">3    5</span><br><span class="line">4    6</span><br></pre></td></tr></table></figure><p><strong>Inner join</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> a <span class="keyword">INNER</span> <span class="keyword">JOIN</span> b <span class="keyword">on</span> a.a = b.b;</span><br><span class="line"><span class="keyword">select</span> a.*, b.*  <span class="keyword">from</span> a,b <span class="keyword">where</span> a.a = b.b;</span><br><span class="line"></span><br><span class="line">a | b</span><br><span class="line"><span class="comment">--+--</span></span><br><span class="line">3 | 3</span><br><span class="line">4 | 4</span><br></pre></td></tr></table></figure><p><strong>Left outer join</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> a <span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> b <span class="keyword">on</span> a.a = b.b;</span><br><span class="line"><span class="keyword">select</span> a.*, b.*  <span class="keyword">from</span> a,b <span class="keyword">where</span> a.a = b.b(+);</span><br><span class="line"></span><br><span class="line">a |  b</span><br><span class="line"><span class="comment">--+-----</span></span><br><span class="line">1 | null</span><br><span class="line">2 | null</span><br><span class="line">3 |    3</span><br><span class="line">4 |    4</span><br></pre></td></tr></table></figure><p><strong>Right outer join</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> a <span class="keyword">RIGHT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> b <span class="keyword">on</span> a.a = b.b;</span><br><span class="line"><span class="keyword">select</span> a.*, b.*  <span class="keyword">from</span> a,b <span class="keyword">where</span> a.a(+) = b.b;</span><br><span class="line"></span><br><span class="line">a    |  b</span><br><span class="line"><span class="comment">-----+----</span></span><br><span class="line">3    |  3</span><br><span class="line">4    |  4</span><br><span class="line">null |  5</span><br><span class="line">null |  6</span><br></pre></td></tr></table></figure><p><strong>Full outer join</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> a <span class="keyword">FULL</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> b <span class="keyword">on</span> a.a = b.b;</span><br><span class="line"></span><br><span class="line"> a   |  b</span><br><span class="line"><span class="comment">-----+-----</span></span><br><span class="line">   1 | null</span><br><span class="line">   2 | null</span><br><span class="line">   3 |    3</span><br><span class="line">   4 |    4</span><br><span class="line">null |    6</span><br><span class="line">null |    5</span><br></pre></td></tr></table></figure><h1 id="3-join区别"><a href="#3-join区别" class="headerlink" title="3. join区别"></a>3. join区别</h1><h3 id="3-1-inner-join-outer-join"><a href="#3-1-inner-join-outer-join" class="headerlink" title="3.1 inner join, outer join"></a>3.1 inner join, outer join</h3><ul><li>An inner join of A and B gives the result of A intersect B</li><li>An outer join of A and B gives the results of A union B</li></ul><p><img src="/p/289dcf0b/1.png" alt="1"></p><h3 id="3-2-inner-join-多表连查"><a href="#3-2-inner-join-多表连查" class="headerlink" title="3.2 inner join, 多表连查"></a>3.2 inner join, 多表连查</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span></span><br><span class="line"><span class="keyword">table</span> a <span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="keyword">table</span> b</span><br><span class="line"><span class="keyword">ON</span> a.id = b.id;</span><br></pre></td></tr></table></figure><p>vs</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> a.*, b.*</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">table</span> a, <span class="keyword">table</span> b</span><br><span class="line"><span class="keyword">WHERE</span> a.id = b.id;</span><br></pre></td></tr></table></figure><p>多表连查, 带 where 条件的一般又称为隐式内连接, 在性能方面，它们是完全相同的。</p><h3 id="3-3-left-join-多表连查"><a href="#3-3-left-join-多表连查" class="headerlink" title="3.3  left join, 多表连查"></a>3.3 left join, 多表连查</h3><p>实际项目中, 最常用的两种方式.</p><ul><li>left join 就是 left outer join, 一般会产生 null</li><li>多表查询加 where, 可以理解为 inner join</li></ul><h3 id="3-4-on-where"><a href="#3-4-on-where" class="headerlink" title="3.4 on, where"></a>3.4 on, where</h3><ul><li><p>对于inner joins, 无关紧要</p></li><li><p>对于 outer joins, 先 on 后 where</p><ul><li><p><code>ON</code> clause - <strong>Before</strong> joining. 在join之前将被过滤, 有些结果可能为null（因为outer join）。</p></li><li><p><code>WHERE</code> clause: <strong>After</strong> joining. 在join之后过滤记录, 一般可以过滤掉 null。</p></li></ul></li></ul><p>“A LEFT JOIN B ON 条件表达式” 中的ON用来决定如何从 B 表中检索数据行。如果 B 表中没有任何一行数据匹配 ON 的条件,将会额外生成一行所有列为 NULL 的数据。仅在匹配阶段完成以后，WHERE 子句条件才会被使用。它将从匹配阶段产生的数据中检索过滤。</p><p>所以我们要注意：在使用Left (right) join的时候，一定要在先给出尽可能多的匹配满足条件，减少Where的执行。如：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> A</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> B <span class="keyword">on</span> B.name = A.name</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> C <span class="keyword">on</span> C.name = B.name</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> D <span class="keyword">on</span> D.id = C.id</span><br><span class="line"><span class="keyword">where</span> C.status&gt;<span class="number">1</span> <span class="keyword">and</span> D.status=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--可以优化成:</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> A</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> B <span class="keyword">on</span> B.name = A.name</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> C <span class="keyword">on</span> C.name = B.name <span class="keyword">and</span> C.status&gt;<span class="number">1</span></span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> D <span class="keyword">on</span> D.id = C.id <span class="keyword">and</span> D.status=<span class="number">1</span></span><br></pre></td></tr></table></figure><p><strong>Example</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1. documents:</span><br><span class="line"> | id    | name        |</span><br><span class="line"> <span class="comment">--------|-------------|</span></span><br><span class="line"> | 1     | Document1   |</span><br><span class="line"> | 2     | Document2   |</span><br><span class="line"> | 3     | Document3   |</span><br><span class="line"> | 4     | Document4   |</span><br><span class="line"> | 5     | Document5   |</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2. downloads:</span><br><span class="line"> | id   | document_id   | username |</span><br><span class="line"> |<span class="comment">------|---------------|----------|</span></span><br><span class="line"> | 1    | 1             | sandeep  |</span><br><span class="line"> | 2    | 1             | simi     |</span><br><span class="line"> | 3    | 2             | sandeep  |</span><br><span class="line"> | 4    | 2             | reya     |</span><br><span class="line"> | 5    | 3             | simi     |</span><br></pre></td></tr></table></figure><p><strong>ON</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> documents.name, downloads.id <span class="keyword">FROM</span> documents <span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> downloads</span><br><span class="line"><span class="keyword">ON</span> documents.id = downloads.document_id</span><br><span class="line"><span class="keyword">AND</span> username = <span class="string">'sandeep'</span></span><br><span class="line"></span><br><span class="line">中间表:</span><br><span class="line">    | <span class="keyword">id</span>(<span class="keyword">from</span> documents) | <span class="keyword">name</span>         | <span class="keyword">id</span> (<span class="keyword">from</span> downloads) | document_id | username |</span><br><span class="line">    |<span class="comment">--------------------|--------------|---------------------|-------------|----------|</span></span><br><span class="line">    | <span class="number">1</span>                  | Document1    | <span class="number">1</span>                   | <span class="number">1</span>           | sandeep  |</span><br><span class="line">    | <span class="number">2</span>                  | Document2    | <span class="number">3</span>                   | <span class="number">2</span>           | sandeep  |</span><br><span class="line">    | <span class="number">3</span>                  | Document3    | <span class="literal">NULL</span>                | <span class="literal">NULL</span>        | <span class="literal">NULL</span>     |</span><br><span class="line">    | <span class="number">4</span>                  | Document4    | <span class="literal">NULL</span>                | <span class="literal">NULL</span>        | <span class="literal">NULL</span>     |</span><br><span class="line">    | <span class="number">5</span>                  | Document5    | <span class="literal">NULL</span>                | <span class="literal">NULL</span>        | <span class="literal">NULL</span>     |</span><br><span class="line"></span><br><span class="line">注意“ documents”中不符合这两个条件的行是如何用“ <span class="literal">NULL</span>”值填充的。</span><br><span class="line"></span><br><span class="line">最终:</span><br><span class="line">   | <span class="keyword">name</span>       | <span class="keyword">id</span>   |</span><br><span class="line">   |<span class="comment">------------|------|</span></span><br><span class="line">   |  Document1 | <span class="number">1</span>    |</span><br><span class="line">   |  Document2 | <span class="number">3</span>    | </span><br><span class="line">   |  Document3 | <span class="literal">NULL</span> |</span><br><span class="line">   |  Document4 | <span class="literal">NULL</span> | </span><br><span class="line">   |  Document5 | <span class="literal">NULL</span> |</span><br></pre></td></tr></table></figure><p><strong>WHERE</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">SELECT</span> documents.name, downloads.id <span class="keyword">FROM</span> documents <span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> downloads</span><br><span class="line"> <span class="keyword">ON</span> documents.id = downloads.document_id</span><br><span class="line"> <span class="keyword">WHERE</span> username = <span class="string">'sandeep'</span></span><br><span class="line"></span><br><span class="line"> 先 <span class="keyword">on</span> 产生中间表:</span><br><span class="line"></span><br><span class="line">    | <span class="keyword">id</span>(<span class="keyword">from</span> documents) | <span class="keyword">name</span>         | <span class="keyword">id</span> (<span class="keyword">from</span> downloads) | document_id | username |</span><br><span class="line">    |<span class="comment">--------------------|--------------|---------------------|-------------|----------|</span></span><br><span class="line">    | <span class="number">1</span>                  | Document1    | <span class="number">1</span>                   | <span class="number">1</span>           | sandeep  |</span><br><span class="line">    | <span class="number">1</span>                  | Document1    | <span class="number">2</span>                   | <span class="number">1</span>           | simi     |</span><br><span class="line">    | <span class="number">2</span>                  | Document2    | <span class="number">3</span>                   | <span class="number">2</span>           | sandeep  |</span><br><span class="line">    | <span class="number">2</span>                  | Document2    | <span class="number">4</span>                   | <span class="number">2</span>           | reya     |</span><br><span class="line">    | <span class="number">3</span>                  | Document3    | <span class="number">5</span>                   | <span class="number">3</span>           | simi     |</span><br><span class="line">    | <span class="number">4</span>                  | Document4    | <span class="literal">NULL</span>                | <span class="literal">NULL</span>        | <span class="literal">NULL</span>     |</span><br><span class="line">    | <span class="number">5</span>                  | Document5    | <span class="literal">NULL</span>                | <span class="literal">NULL</span>        | <span class="literal">NULL</span>     |</span><br><span class="line"></span><br><span class="line">最终结果:</span><br><span class="line"></span><br><span class="line">   | <span class="keyword">name</span>         | <span class="keyword">id</span> |</span><br><span class="line">   |<span class="comment">--------------|----|</span></span><br><span class="line">   | Document1    | <span class="number">1</span>  |</span><br><span class="line">   | Document2    | <span class="number">3</span>  |</span><br></pre></td></tr></table></figure><h3 id="3-5-mysql-实现-full-join"><a href="#3-5-mysql-实现-full-join" class="headerlink" title="3.5 mysql 实现 full join"></a>3.5 mysql 实现 full join</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> t1</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> t2 <span class="keyword">ON</span> t1.id = t2.id</span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> t1</span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> t2 <span class="keyword">ON</span> t1.id = t2.id</span><br></pre></td></tr></table></figure><h1 id="4-cross-join"><a href="#4-cross-join" class="headerlink" title="4. cross join"></a>4. cross join</h1><h3 id="4-1-cross-join-inner-join"><a href="#4-1-cross-join-inner-join" class="headerlink" title="4.1 cross join , inner join"></a>4.1 cross join , inner join</h3><p>交叉联接不会合并行，如果每个表中有100行且一一匹配，则会得到10000个结果，在相同情况下，Innerjoin将仅返回100行。</p><p>这两个示例将返回相同的结果：</p><p>Cross join</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> table1 <span class="keyword">cross</span> <span class="keyword">join</span> table2 <span class="keyword">where</span> table1.id = table2.fk_id</span><br></pre></td></tr></table></figure><p>Inner join</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> table1 <span class="keyword">join</span> table2 <span class="keyword">on</span> table1.id = table2.fk_id</span><br></pre></td></tr></table></figure><p>Use the last method</p><h3 id="4-2-cross-join-full-outer-join"><a href="#4-2-cross-join-full-outer-join" class="headerlink" title="4.2 cross join, full outer join"></a>4.2 cross join, full outer join</h3><p>交叉联接会在两个表之间产生笛卡尔乘积，并返回所有行的所有可能组合。 它没有on子句，因为您只是将所有内容连接到所有内容。</p><p>使用空表（或结果集）的交叉联接会导致空表（M x N；因此M x 0 = 0)</p><p>完全外部联接是左外部联接和右外部联接的组合。 它返回两个表中与查询的where子句匹配的所有行，并且在无法满足这些行的打开条件的情况下，它将为未填充的字段放入空值。</p><p>完全外部联接将始终具有行，除非M和N均为0。</p><h3 id="4-3-mysql-中cross-join"><a href="#4-3-mysql-中cross-join" class="headerlink" title="4.3 mysql 中cross join"></a>4.3 mysql 中cross join</h3><p>在Mysql中,cross join ,inner join和 join所实现的功能是一样的。因此在MYSQL的官方文档中，指明了三者是等价的关系。</p><p><a href="https://dev.mysql.com/doc/refman/5.7/en/join.html" target="_blank" rel="noopener">https://dev.mysql.com/doc/refman/5.7/en/join.html</a></p><p>In MySQL, JOIN, CROSS JOIN, and INNER JOIN are syntactic equivalents (they can replace each other). In standard SQL, they are not equivalent. INNER JOIN is used with an ON clause, CROSS JOIN is used otherwise.</p><h1 id="5-参考资料"><a href="#5-参考资料" class="headerlink" title="5. 参考资料"></a>5. 参考资料</h1><ul><li><a href="https://blog.csdn.net/u012861978/article/details/52203818" target="_blank" rel="noopener">https://blog.csdn.net/u012861978/article/details/52203818</a></li><li><a href="https://stackoverflow.com/a/38578" target="_blank" rel="noopener">https://stackoverflow.com/a/38578</a></li><li><a href="https://stackoverflow.com/a/17759769" target="_blank" rel="noopener">https://stackoverflow.com/a/17759769</a></li><li><a href="https://stackoverflow.com/questions/3228871" target="_blank" rel="noopener">https://stackoverflow.com/questions/3228871</a></li><li><a href="https://stackoverflow.com/questions/44917" target="_blank" rel="noopener">https://stackoverflow.com/questions/44917</a></li><li><a href="https://stackoverflow.com/a/28719292" target="_blank" rel="noopener">https://stackoverflow.com/a/28719292</a></li><li><a href="https://stackoverflow.com/a/20981676" target="_blank" rel="noopener">https://stackoverflow.com/a/20981676</a></li><li><a href="https://stackoverflow.com/a/4796911" target="_blank" rel="noopener">https://stackoverflow.com/a/4796911</a></li></ul></div><div class="reward-container"><div>您打赏的一小步, 钱多了是吗? ( •̀ ω •́ )</div><button onclick='var qr=document.getElementById("qr");qr.style.display="none"===qr.style.display?"block":"none"'>打赏</button><div id="qr" style="display:none"><div style="display:inline-block"><img src="/images/wechatpay.jpg" alt="levonfly 微信支付"><p>微信支付</p></div><div style="display:inline-block"><img src="/images/alipay.jpg" alt="levonfly 支付宝"><p>支付宝</p></div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/sql/" rel="tag"># sql</a></div><div class="post-nav"><div class="post-nav-item"><a href="/p/92ab0521.html" rel="prev" title="git魔法操作"><i class="fa fa-chevron-left"></i> git魔法操作</a></div><div class="post-nav-item"><a href="/p/ab5fc61f.html" rel="next" title="sql常见基础知识">sql常见基础知识 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="valine-comments"></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-join类型"><span class="nav-text">1. join类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-join分类"><span class="nav-text">1.1 join分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#null"><span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-常见分类"><span class="nav-text">1.2 常见分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-注意事项"><span class="nav-text">1.3 注意事项</span></a></li></ol></li></ol><li class="nav-item nav-level-1"><a class="nav-link" href="#2-join使用"><span class="nav-text">2. join使用</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-join区别"><span class="nav-text">3. join区别</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-inner-join-outer-join"><span class="nav-text">3.1 inner join, outer join</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-inner-join-多表连查"><span class="nav-text">3.2 inner join, 多表连查</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-left-join-多表连查"><span class="nav-text">3.3 left join, 多表连查</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-on-where"><span class="nav-text">3.4 on, where</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-mysql-实现-full-join"><span class="nav-text">3.5 mysql 实现 full join</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-cross-join"><span class="nav-text">4. cross join</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-cross-join-inner-join"><span class="nav-text">4.1 cross join , inner join</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-cross-join-full-outer-join"><span class="nav-text">4.2 cross join, full outer join</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-mysql-中cross-join"><span class="nav-text">4.3 mysql 中cross join</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-参考资料"><span class="nav-text">5. 参考资料</span></a></li></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="levonfly" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">levonfly</p><div class="site-description" itemprop="description">stay hungry, stay foolish.</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">180</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">43</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">101</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/unix2dos" title="GitHub → https://github.com/unix2dos" rel="noopener" target="_blank"><i class="github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:levonfly@gmail.com" title="E-Mail → mailto:levonfly@gmail.com" rel="noopener" target="_blank"><i class="envelope fa-fw"></i>E-Mail</a> </span><span class="links-of-author-item"><a href="https://twitter.com/levonfly" title="Twitter → https://twitter.com/levonfly" rel="noopener" target="_blank"><i class="twitter fa-fw"></i>Twitter</a> </span><span class="links-of-author-item"><a href="https://weibo.com/l6241425" title="Weibo → https://weibo.com/l6241425" rel="noopener" target="_blank"><i class="weibo fa-fw"></i>Weibo</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="beian"><a href="https://beian.miit.gov.cn" rel="noopener" target="_blank">京ICP备20000727号 </a><img src="/images/beian.png" style="display:inline-block"><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010502039978" rel="noopener" target="_blank">京公网安备11010502039978号</a></div><div class="copyright">&copy; <span itemprop="copyrightYear">2020</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">levonfly</span></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script>!function(){var e,t,o,n,r,a=document.getElementsByTagName("link");if(0<a.length)for(i=0;i<a.length;i++)"canonical"==a[i].rel.toLowerCase()&&a[i].href&&(e=a[i].href);t=e?e.split(":")[0]:window.location.protocol.split(":")[0],e=e||window.location.href,window,n=e,r=document.referrer,/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi.test(n)||(o="https"===String(t).toLowerCase()?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif",r?(o+="?r="+encodeURIComponent(document.referrer),n&&(o+="&l="+n)):n&&(o+="?l="+n),(new Image).src=o)}()</script><script src="/js/local-search.js"></script><script>NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : 'Y4ry1QHkYxVXKLQBrx6LJXld-gzGzoHsz',
      appKey     : 'TXITOypSvI7JO61NI8EG5exk',
      placeholder: "留下您的小脚丫吧~",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});</script></body></html>